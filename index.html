<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Pokemon Coverage calculator</title>
	<meta name="viewport" content="width=device-width" />

	<script src="main.js" type="module"></script>

	<style>
		/* How to make the head's background cover the full width,
		while not shifting any content around when the scrollbar toggles. */
		/* html, body {
			height: 100%;
			overflow: auto;
			overflow-x: hidden;
		}
		header, main {
			width: 100vw;
		} */
		/* Wtf is that. */

		body {
			margin: 0;
			text-align: center;
			background-color: white;
			font-family: sans-serif;
		}
		header {
			background-color: aliceblue;
			display: flex;
			flex-direction: column;
			padding: 8px 0px;
		}
		main {
			padding: 8px 0px;
			margin-bottom: 40px;
		}
		.center {
			width: fit-content;
			margin: 0px auto;
		}

		h1 {
			margin: 0px;
		}
		label, summary, button {
			cursor: pointer;
		}
		input[type="checkbox"], input[type="radio"] {
			display: none;
		}
		
		button, label {
			border: 1px solid black;
			border-radius: 3px;
			margin: 3px;
			min-width: 3.2ch;
			font-size: 0.8rem;
			padding-block-end: 1px;
			padding-block-start: 1px;
			padding-inline-start: 6px;
			padding-inline-end: 6px;
		}
		label:has(input:checked) {
			outline: outset 3px #d5d819;
		}

		.buttonPanel {
			margin: 5px;
		}
		.typegrid {
			display: grid;
			grid-template-columns: repeat(4, 8.5ch);
		}
		.typegrid > label {
			color: white;
			text-shadow: 1px 1px 3px #333, -1px -1px 3px #333;
		}

		.type-normal { background:#A8A878; }
		.type-fighting { background:#C03028; }
		.type-flying { background:#A890F0; }
		.type-poison { background:#A040A0; }
		.type-ground { background:#E0C068; }
		.type-rock { background:#B8A038; }
		.type-bug { background:#A8B820; }
		.type-ghost { background:#705898; }
		.type-steel { background:#B8B8D0; }
		.type-fire { background:#F08030; }
		.type-water { background:#6890F0; }
		.type-grass { background:#78C850; }
		.type-electric { background:#F8D030; }
		.type-psychic { background:#F85888; }
		.type-ice { background:#98D8D8; }
		.type-dragon { background:#7038F8; }
		.type-dark { background:#705848; }
		.type-fairy { background:#EE99AC; }
	</style>

	<style>
		table {
			border-collapse: collapse;
		}
		tbody {
			text-align: left;
		}
		tr.bigrow {
			border: none;
			border-top: 1px solid gray;
		}
		tr.bigrow > td {
			padding: 5px;
		}
		.subtable {
			font-size: 87%;
		}
		td.multiplier {
			text-align: center;
		}
		span.bar {
			border-radius: 3px;
			height: 10px;
			display: inline-block;
		}
		span.timesFour { background: #73d216 }
		span.timesTwo { background: #4e9a06 }
		span.timesOne { background: #ffdd57 }
		span.timesHalf { background: #a40000 }
		span.timesQuarter { background: #7c0000 }
		span.timesZero { background: #000 }

		.boundedCell {
			position: relative;
		}

		.boundedList {
			text-align: center;
			font-size: 87%;
			color: gray;
			overflow-y: auto;
			scrollbar-gutter: stable both-edges;

			list-style-type: none;
			margin: 0;
			padding: 0;

			position: absolute;
			height: calc(100% - 10px);
			width: calc(100% - 10px);
			top: 5px;
		}

	</style>

	<style>
		details {
			font-size: 80%;
			margin-bottom: 10px;
		}
		summary {
			width: fit-content;
			margin: 0 auto 3px;
			text-decoration: underline;
		}
		details>div {
			margin: 0 auto;
			width: 400px;
			text-align: left;
			padding: 4px;
			border: 1px solid gray;
			border-radius: 3px;
			background-color: #f8f8f8;
		}
		details>div>ul {
			margin: 0;
			padding-left: 20px;
		}
	</style>

</head>

<body>
	<header>
		<h1>Coverage Calculator</h1>
		<details>
			<summary>What is this?</summary>
			<div>
				<p style="margin-top: 0;">
					This tool is meant to help people building pokemon teams
					to figure out what move coverage they might need. It compares
					a set of attacking moves against all defensive profiles
					in the games. The most effective move gets tallied, and
					the result is summarized in a list.
				</p>
				<p style="margin: 0;">
					The list is sorted by (in order of importance):
				</p>
				<ul>
					<li>The fewest immune targets.</li>
					<li>The fewest quad-resists.</li>
					<li>The fewest half-resists.</li>
					<li>The most supereffective targets (including both 2× and 4×)</li>
				</ul>
				<p>
					Abilities that give resistances or immunities are only tallied
					when a set of attacks can't hit it for at least neutral damage.
				</p>
				<p style="margin-bottom: 0;">
					The attacking moves can be filtered by selecting which types to
					always include (e.g. a STAB-move) or to exclude (e.g. when a pokemon
					doesn't learn a move of that type).
				</p>
			</div>
		</details>

		<div>
			Number of attacking moves<br>
			<label>1<input type="radio" name="count" class="countButton" value="1"></label>
			<label>2<input type="radio" name="count" class="countButton" value="2" checked></label>
			<label>3<input type="radio" name="count" class="countButton" value="3"></label>
			<label>4<input type="radio" name="count" class="countButton" value="4"></label>
		</div>
		<div style="display: flex; flex-wrap: wrap; justify-content: center; margin-top: 10px;">
			<form class="buttonPanel">
				Include these types
				<div id="includeTypes" class="typegrid">
					<label class="type-normal">Normal<input type="checkbox"></label>
					<label class="type-fighting">Fighting<input type="checkbox"></label>
					<label class="type-flying">Flying<input type="checkbox"></label>
					<label class="type-poison">Poison<input type="checkbox"></label>
					<label class="type-ground">Ground<input type="checkbox"></label>
					<label class="type-rock">Rock<input type="checkbox"></label>
					<label class="type-bug">Bug<input type="checkbox"></label>
					<label class="type-ghost">Ghost<input type="checkbox"></label>
					<label class="type-steel">Steel<input type="checkbox"></label>
					<label class="type-fire">Fire<input type="checkbox"></label>
					<label class="type-water">Water<input type="checkbox"></label>
					<label class="type-grass">Grass<input type="checkbox"></label>
					<label class="type-electric">Electric<input type="checkbox"></label>
					<label class="type-psychic">Psychic<input type="checkbox"></label>
					<label class="type-ice">Ice<input type="checkbox"></label>
					<label class="type-dragon">Dragon<input type="checkbox"></label>
					<label class="type-dark">Dark<input type="checkbox"></label>
					<label class="type-fairy">Fairy<input type="checkbox"></label>
				</div>
				<button id="includeReset" type="reset">reset</button>
			</form>
			<form class="buttonPanel">
				Exclude these types
				<div id="excludeTypes" class="typegrid">
					<label class="type-normal">Normal<input type="checkbox"></label>
					<label class="type-fighting">Fighting<input type="checkbox"></label>
					<label class="type-flying">Flying<input type="checkbox"></label>
					<label class="type-poison">Poison<input type="checkbox"></label>
					<label class="type-ground">Ground<input type="checkbox"></label>
					<label class="type-rock">Rock<input type="checkbox"></label>
					<label class="type-bug">Bug<input type="checkbox"></label>
					<label class="type-ghost">Ghost<input type="checkbox"></label>
					<label class="type-steel">Steel<input type="checkbox"></label>
					<label class="type-fire">Fire<input type="checkbox"></label>
					<label class="type-water">Water<input type="checkbox"></label>
					<label class="type-grass">Grass<input type="checkbox"></label>
					<label class="type-electric">Electric<input type="checkbox"></label>
					<label class="type-psychic">Psychic<input type="checkbox"></label>
					<label class="type-ice">Ice<input type="checkbox"></label>
					<label class="type-dragon">Dragon<input type="checkbox"></label>
					<label class="type-dark">Dark<input type="checkbox"></label>
					<label class="type-fairy">Fairy<input type="checkbox"></label>
				</div>
				<button id="excludeReset" type="reset">reset</button>
			</form>
		</div>
		<div>
			<label>Bundle effective<input type="checkbox" class="bundling" checked></label>
			<label>Bundle non-effective<input type="checkbox" class="bundling"></label>
		</div>
	</header>

	<main>
		<table class="center">
			<thead>
				<tr>
					<th scope="col">Attacking types</th>
					<th scope="col">Best effect tally</th>
					<th scope="col">Resistant targets</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
		</table>
		<button id="loadMore">Load more</button>
	</main>
</body>

</html>
